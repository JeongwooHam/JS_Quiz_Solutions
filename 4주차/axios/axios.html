<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AXIOS</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </head>
  <body>
    <p id="dogs"></p>
    <script>
      const backend_url_1 = "https://jsonplaceholder.typicode.com/posts";
      const backend_url_2 = "https://dog.ceo/api/breeds/list/all";
      /*
        문제 2: Axios
        axios 라이브러리를 사용하여 다음 URL로 POST 요청을 보내는 JavaScript 함수를 작성하세요: "https://jsonplaceholder.typicode.com/posts". 
        이 함수는 "title"과 "body"라는 속성을 포함한 JSON 객체를 요청 본문으로 보내야 합니다. 함수는 서버로부터의 JSON 응답을 콘솔에 출력해야 합니다.
      */
      const post = {
        userId: 100,
        id: 105,
        title: "aaa",
        body: "abababab",
      };

      const loadPosts = async () => {
        const result = await axios.post(backend_url_1, post);
        console.log(result);
      };

      loadPosts();
      /*
        문제 4: Axios
        axios 라이브러리를 사용하여 다음 URL로 GET 요청을 보내는 JavaScript 함수를 작성하세요: "https://dog.ceo/api/breeds/list/all". 
        이 함수는 JSON 응답에서 모든 개 품종의 이름을 추출하고 웹 페이지에 표시해야 합니다.
      */
      const getDogs = async () => {
        const dogsInfo = await axios.get(backend_url_2);
        console.log(dogsInfo.data.message);
        const dogsName = Object.keys(dogsInfo.data.message);
        console.log(dogsName);

        const $dogs = document.querySelector("#dogs");
        $dogs.textContent = dogsName;
      };

      getDogs();
      /*
        문제 5: Fetch와 Axios
        먼저 fetch API를 사용하여 다음 URL로 GET 요청을 보냅니다: "https://jsonplaceholder.typicode.com/posts". 
        그런 다음 axios를 사용하여 응답에서 반환된 게시물 중 하나의 제목과 내용을 업데이트하는 PUT 요청을 보냅니다. 
        마지막으로, 업데이트된 게시물을 삭제하기 위해 다시 fetch를 사용하여 DELETE 요청을 보냅니다.
      */
      const fetchAndAxios = async () => {
        let getPosts = await fetch(backend_url_1, { method: "GET" });
        getPosts = getPosts.json();
        console.log(getPosts);
      };

      fetchAndAxios();
    </script>
  </body>
</html>
